<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logging in to CattyMod...</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  .spinner {
    border: 4px solid rgba(255, 255, 255, 0.2);
    border-top-color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    animation: spin 1s linear infinite;
  }
</style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen text-gray-100">

<div class="bg-gray-800 rounded-3xl shadow-2xl p-12 w-full max-w-md text-center">
  <img src="https://avatars.githubusercontent.com/u/219615306?s=200&v=4" 
       alt="CattyMod Icon" 
       class="w-28 h-28 mx-auto rounded-full border-4 border-sky-400 mb-6">

  <h1 class="text-4xl font-bold text-sky-400 mb-3">Signing you in...</h1>
  <p class="text-gray-400 mb-8">
    Processing Scratch authorization...
  </p>

  <!-- Nonfunctional GitHub button (above) -->
  <div class="flex items-center justify-center gap-3 bg-sky-500 text-white font-semibold px-6 py-3 rounded-xl shadow-md w-full mb-4">
    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.016-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.73.083-.73 1.205.084 1.84 1.236 1.84 1.236 1.07 1.834 2.809 1.304 3.495.997.108-.776.418-1.304.76-1.604-2.665-.305-5.466-1.332-5.466-5.932 0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.527.117-3.176 0 0 1.008-.322 3.3 1.23a11.52 11.52 0 013.003-.404c1.018.005 2.045.137 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.655 1.65.243 2.873.12 3.176.77.84 1.236 1.91 1.236 3.22 0 4.61-2.803 5.625-5.475 5.922.43.37.823 1.102.823 2.222 0 1.604-.015 2.896-.015 3.287 0 .322.216.694.825.576C20.565 21.796 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
    </svg>
    Continue with GitHub
  </div>

  <!-- Scratch spinner button (functional) -->
  <div class="flex items-center justify-center gap-3 text-white font-semibold px-6 py-3 rounded-xl shadow-md w-full mb-4" style="background-color: #ffab19;">
    <div class="spinner"></div>
    Continue with Scratch
  </div>

  <p class="text-gray-500 mt-8 text-sm">
    &copy; 2025 The CattyMod Team ðŸ’–
  </p>
</div>

<script>
  const params = new URLSearchParams(window.location.search);
  const privateCode = params.get('privateCode'); // Scratch sends privateCode

  setTimeout(() => {
    if (privateCode) {
      // Redirect to hub using code instead of privateCode
      window.location.href = `https://cattymod.github.io/hub/?code=${privateCode}`;
    } else {
      window.location.href = 'https://cattymod.github.io/login';
    }
  }, 500);
</script>

</body>
</html>
